{"version":3,"file":"mp-html.js","sources":["components/mp-html/components/mp-html/mp-html.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovMC9iZWlmZW4vMC8wRmlsZXMvMjAyNeetlOi-qS90cy10cy9taW5pUHJvZ3JhbS9jb21wb25lbnRzL21wLWh0bWwvY29tcG9uZW50cy9tcC1odG1sL21wLWh0bWwudnVl"],"sourcesContent":["<template>\n  <view id=\"_root\" :class=\"(selectable?'_select ':'')+'_root'\" :style=\"(editable?'min-height:200px;':'')+containerStyle\" @tap=\"_containTap\">\n    <slot v-if=\"!nodes[0]\" />\n    <!-- #ifndef APP-PLUS-NVUE -->\n    <node v-else :childs=\"nodes\" :opts=\"[lazyLoad,loadingImg,errorImg,showImgMenu,selectable,editable,placeholder,'nodes']\" name=\"span\" />\n    <!-- #endif -->\n    <!-- #ifdef APP-PLUS-NVUE -->\n    <web-view ref=\"web\" src=\"/static/app-plus/mp-html/local.html\" :style=\"'margin-top:-2px;height:' + height + 'px'\" @onPostMessage=\"_onMessage\" />\n    <!-- #endif -->\n    <view v-if=\"tooltip\" class=\"_tooltip_contain\" :style=\"'top:'+tooltip.top+'px'\">\n      <view class=\"_tooltip\">\n        <view v-for=\"(item, index) in tooltip.items\" v-bind:key=\"index\" class=\"_tooltip_item\" :data-i=\"index\" @tap=\"_tooltipTap\">{{item}}</view>\n      </view>\n    </view>\n    <view v-if=\"slider\" class=\"_slider\" :style=\"'top:'+slider.top+'px'\">\n      <slider :value=\"slider.value\" :min=\"slider.min\" :max=\"slider.max\" handle-size=\"14\" block-size=\"14\" show-value activeColor=\"white\" style=\"padding:3px\" @changing=\"_sliderChanging\" @change=\"_sliderChange\" />\n    </view>\n    <view v-if=\"color\" class=\"_tooltip_contain\" :style=\"'top:'+color.top+'px'\">\n      <view class=\"_tooltip\" style=\"overflow-y: hidden;\">\n        <view v-for=\"(item, index) in color.items\" v-bind:key=\"index\" class=\"_color_item\" :style=\"'background-color:'+item\" :data-i=\"index\" @tap=\"_colorTap\"></view>\n      </view>\n    </view>\n  </view>\n</template>\n\n<script>\n/**\n * mp-html v2.4.3\n * @description 富文本组件\n * @tutorial https://github.com/jin-yufeng/mp-html\n * @property {String} container-style 容器的样式\n * @property {String} content 用于渲染的 html 字符串\n * @property {Boolean} copy-link 是否允许外部链接被点击时自动复制\n * @property {String} domain 主域名，用于拼接链接\n * @property {String} error-img 图片出错时的占位图链接\n * @property {Boolean} lazy-load 是否开启图片懒加载\n * @property {string} loading-img 图片加载过程中的占位图链接\n * @property {Boolean} pause-video 是否在播放一个视频时自动暂停其他视频\n * @property {Boolean} preview-img 是否允许图片被点击时自动预览\n * @property {Boolean} scroll-table 是否给每个表格添加一个滚动层使其能单独横向滚动\n * @property {Boolean | String} selectable 是否开启长按复制\n * @property {Boolean} set-title 是否将 title 标签的内容设置到页面标题\n * @property {Boolean} show-img-menu 是否允许图片被长按时显示菜单\n * @property {Object} tag-style 标签的默认样式\n * @property {Boolean | Number} use-anchor 是否使用锚点链接\n * @event {Function} load dom 结构加载完毕时触发\n * @event {Function} ready 所有图片加载完毕时触发\n * @event {Function} imgtap 图片被点击时触发\n * @event {Function} linktap 链接被点击时触发\n * @event {Function} play 音视频播放时触发\n * @event {Function} error 媒体加载出错时触发\n */\n// #ifndef APP-PLUS-NVUE\nimport node from './node/node'\n// #endif\nimport Parser from './parser'\nimport markdown from './markdown/index.js'\nimport audio from './audio/index.js'\nimport emoji from './emoji/index.js'\nimport highlight from './highlight/index.js'\nimport latex from './latex/index.js'\nimport search from './search/index.js'\nimport style from './style/index.js'\nimport imgCache from './img-cache/index.js'\nimport card from './card/index.js'\nimport editable from './editable/index.js'\nconst plugins=[markdown,audio,emoji,highlight,latex,search,style,imgCache,card,editable,]\n// #ifdef APP-PLUS-NVUE\nconst dom = weex.requireModule('dom')\n// #endif\nexport default {\n  name: 'mp-html',\n  data() {\n    return {\n      tooltip: null,\n      slider: null,\n      color: null,\n      nodes: [],\n      // #ifdef APP-PLUS-NVUE\n      height: 3\n      // #endif\n    }\n  },\n  props: {\n    editable: Boolean,\n    placeholder: String,\n    ImgCache: Boolean,\n    markdown: Boolean,\n    containerStyle: {\n      type: String,\n      default: ''\n    },\n    content: {\n      type: String,\n      default: ''\n    },\n    copyLink: {\n      type: [Boolean, String],\n      default: true\n    },\n    domain: String,\n    errorImg: {\n      type: String,\n      default: ''\n    },\n    lazyLoad: {\n      type: [Boolean, String],\n      default: false\n    },\n    loadingImg: {\n      type: String,\n      default: ''\n    },\n    pauseVideo: {\n      type: [Boolean, String],\n      default: true\n    },\n    previewImg: {\n      type: [Boolean, String],\n      default: true\n    },\n    scrollTable: [Boolean, String],\n    selectable: [Boolean, String],\n    setTitle: {\n      type: [Boolean, String],\n      default: true\n    },\n    showImgMenu: {\n      type: [Boolean, String],\n      default: true\n    },\n    tagStyle: Object,\n    useAnchor: [Boolean, Number]\n  },\n  // #ifdef VUE3\n  emits: ['load', 'ready', 'imgtap', 'linktap', 'play', 'error'],\n  // #endif\n  // #ifndef APP-PLUS-NVUE\n  components: {\n    node\n  },\n  // #endif\n  watch: {\n    editable(val) {\n      this.setContent(val ? this.content : this.getContent())\n      if (!val)\n        this._maskTap()\n    },\n    content (content) {\n      this.setContent(content)\n    }\n  },\n  created () {\n    this.plugins = []\n    for (let i = plugins.length; i--;) {\n      this.plugins.push(new plugins[i](this))\n    }\n  },\n  mounted () {\n    if ((this.content || this.editable) && !this.nodes.length) {\n      this.setContent(this.content)\n    }\n  },\n  beforeDestroy () {\n    this._hook('onDetached')\n  },\n  methods: {\n    _containTap() {\n      if (!this._lock && !this.slider && !this.color) {\n        this._edit = undefined\n        this._maskTap()\n      }\n    },\n    _tooltipTap(e) {\n      this._tooltipcb(e.currentTarget.dataset.i)\n      this.$set(this, 'tooltip', null)\n    },\n    _sliderChanging(e) {\n      this._slideringcb(e.detail.value)\n    },\n    _sliderChange(e) {\n      this._slidercb(e.detail.value)\n    },\n    _colorTap(e) {\n      this._colorcb(e.currentTarget.dataset.i)\n      this.$set(this, 'color', null)\n    },\n    /**\n     * @description 将锚点跳转的范围限定在一个 scroll-view 内\n     * @param {Object} page scroll-view 所在页面的示例\n     * @param {String} selector scroll-view 的选择器\n     * @param {String} scrollTop scroll-view scroll-top 属性绑定的变量名\n     */\n    in (page, selector, scrollTop) {\n      // #ifndef APP-PLUS-NVUE\n      if (page && selector && scrollTop) {\n        this._in = {\n          page,\n          selector,\n          scrollTop\n        }\n      }\n      // #endif\n    },\n\n    /**\n     * @description 锚点跳转\n     * @param {String} id 要跳转的锚点 id\n     * @param {Number} offset 跳转位置的偏移量\n     * @returns {Promise}\n     */\n    navigateTo (id, offset) {\n      id = this._ids[decodeURI(id)] || id\n      return new Promise((resolve, reject) => {\n        if (!this.useAnchor) {\n          reject(Error('Anchor is disabled'))\n          return\n        }\n        offset = offset || parseInt(this.useAnchor) || 0\n        // #ifdef APP-PLUS-NVUE\n        if (!id) {\n          dom.scrollToElement(this.$refs.web, {\n            offset\n          })\n          resolve()\n        } else {\n          this._navigateTo = {\n            resolve,\n            reject,\n            offset\n          }\n          this.$refs.web.evalJs('uni.postMessage({data:{action:\"getOffset\",offset:(document.getElementById(' + id + ')||{}).offsetTop}})')\n        }\n        // #endif\n        // #ifndef APP-PLUS-NVUE\n        let deep = ' '\n        // #ifdef MP-WEIXIN || MP-QQ || MP-TOUTIAO\n        deep = '>>>'\n        // #endif\n        const selector = uni.createSelectorQuery()\n          // #ifndef MP-ALIPAY\n          .in(this._in ? this._in.page : this)\n          // #endif\n          .select((this._in ? this._in.selector : '._root') + (id ? `${deep}#${id}` : '')).boundingClientRect()\n        if (this._in) {\n          selector.select(this._in.selector).scrollOffset()\n            .select(this._in.selector).boundingClientRect()\n        } else {\n          // 获取 scroll-view 的位置和滚动距离\n          selector.selectViewport().scrollOffset() // 获取窗口的滚动距离\n        }\n        selector.exec(res => {\n          if (!res[0]) {\n            reject(Error('Label not found'))\n            return\n          }\n          const scrollTop = res[1].scrollTop + res[0].top - (res[2] ? res[2].top : 0) + offset\n          if (this._in) {\n            // scroll-view 跳转\n            this._in.page[this._in.scrollTop] = scrollTop\n          } else {\n            // 页面跳转\n            uni.pageScrollTo({\n              scrollTop,\n              duration: 300\n            })\n          }\n          resolve()\n        })\n        // #endif\n      })\n    },\n\n    /**\n     * @description 获取文本内容\n     * @return {String}\n     */\n    getText (nodes) {\n      let text = '';\n      (function traversal (nodes) {\n        for (let i = 0; i < nodes.length; i++) {\n          const node = nodes[i]\n          if (node.type === 'text') {\n            text += node.text.replace(/&amp;/g, '&')\n          } else if (node.name === 'br') {\n            text += '\\n'\n          } else {\n            // 块级标签前后加换行\n            const isBlock = node.name === 'p' || node.name === 'div' || node.name === 'tr' || node.name === 'li' || (node.name[0] === 'h' && node.name[1] > '0' && node.name[1] < '7')\n            if (isBlock && text && text[text.length - 1] !== '\\n') {\n              text += '\\n'\n            }\n            // 递归获取子节点的文本\n            if (node.children) {\n              traversal(node.children)\n            }\n            if (isBlock && text[text.length - 1] !== '\\n') {\n              text += '\\n'\n            } else if (node.name === 'td' || node.name === 'th') {\n              text += '\\t'\n            }\n          }\n        }\n      })(nodes || this.nodes)\n      return text\n    },\n\n    /**\n     * @description 获取内容大小和位置\n     * @return {Promise}\n     */\n    getRect () {\n      return new Promise((resolve, reject) => {\n        uni.createSelectorQuery()\n          // #ifndef MP-ALIPAY\n          .in(this)\n          // #endif\n          .select('#_root').boundingClientRect().exec(res => res[0] ? resolve(res[0]) : reject(Error('Root label not found')))\n      })\n    },\n\n    /**\n     * @description 暂停播放媒体\n     */\n    pauseMedia () {\n      for (let i = (this._videos || []).length; i--;) {\n        this._videos[i].pause()\n      }\n      // #ifdef APP-PLUS\n      const command = 'for(var e=document.getElementsByTagName(\"video\"),i=e.length;i--;)e[i].pause()'\n      // #ifndef APP-PLUS-NVUE\n      let page = this.$parent\n      while (!page.$scope) page = page.$parent\n      page.$scope.$getAppWebview().evalJS(command)\n      // #endif\n      // #ifdef APP-PLUS-NVUE\n      this.$refs.web.evalJs(command)\n      // #endif\n      // #endif\n    },\n\n    /**\n     * @description 设置媒体播放速率\n     * @param {Number} rate 播放速率\n     */\n    setPlaybackRate (rate) {\n      this.playbackRate = rate\n      for (let i = (this._videos || []).length; i--;) {\n        this._videos[i].playbackRate(rate)\n      }\n      // #ifdef APP-PLUS\n      const command = 'for(var e=document.getElementsByTagName(\"video\"),i=e.length;i--;)e[i].playbackRate=' + rate\n      // #ifndef APP-PLUS-NVUE\n      let page = this.$parent\n      while (!page.$scope) page = page.$parent\n      page.$scope.$getAppWebview().evalJS(command)\n      // #endif\n      // #ifdef APP-PLUS-NVUE\n      this.$refs.web.evalJs(command)\n      // #endif\n      // #endif\n    },\n\n    /**\n     * @description 设置内容\n     * @param {String} content html 内容\n     * @param {Boolean} append 是否在尾部追加\n     */\n    setContent (content, append) {\n      if (!append || !this.imgList) {\n        this.imgList = []\n      }\n      const nodes = new Parser(this).parse(content)\n      // #ifdef APP-PLUS-NVUE\n      if (this._ready) {\n        this._set(nodes, append)\n      }\n      // #endif\n      this.$set(this, 'nodes', append ? (this.nodes || []).concat(nodes) : nodes)\n\n      // #ifndef APP-PLUS-NVUE\n      this._videos = []\n      this.$nextTick(() => {\n        this._hook('onLoad')\n        this.$emit('load')\n      })\n\n      if (this.lazyLoad || this.imgList._unloadimgs < this.imgList.length / 2) {\n        // 设置懒加载，每 350ms 获取高度，不变则认为加载完毕\n        let height = 0\n        const callback = rect => {\n          if (!rect || !rect.height) rect = {}\n          // 350ms 总高度无变化就触发 ready 事件\n          if (rect.height === height) {\n            this.$emit('ready', rect)\n          } else {\n            height = rect.height\n            setTimeout(() => {\n              this.getRect().then(callback).catch(callback)\n            }, 350)\n          }\n        }\n        this.getRect().then(callback).catch(callback)\n      } else {\n        // 未设置懒加载，等待所有图片加载完毕\n        if (!this.imgList._unloadimgs) {\n          this.getRect().then(rect => {\n            this.$emit('ready', rect)\n          }).catch(() => {\n            this.$emit('ready', {})\n          })\n        }\n      }\n      // #endif\n    },\n\n    /**\n     * @description 调用插件钩子函数\n     */\n    _hook (name) {\n      for (let i = plugins.length; i--;) {\n        if (this.plugins[i][name]) {\n          this.plugins[i][name]()\n        }\n      }\n    },\n\n    // #ifdef APP-PLUS-NVUE\n    /**\n     * @description 设置内容\n     */\n    _set (nodes, append) {\n      this.$refs.web.evalJs('setContent(' + JSON.stringify(nodes).replace(/%22/g, '') + ',' + JSON.stringify([this.containerStyle.replace(/(?:margin|padding)[^;]+/g, ''), this.errorImg, this.loadingImg, this.pauseVideo, this.scrollTable, this.selectable]) + ',' + append + ')')\n    },\n\n    /**\n     * @description 接收到 web-view 消息\n     */\n    _onMessage (e) {\n      const message = e.detail.data[0]\n      switch (message.action) {\n        // web-view 初始化完毕\n        case 'onJSBridgeReady':\n          this._ready = true\n          if (this.nodes) {\n            this._set(this.nodes)\n          }\n          break\n        // 内容 dom 加载完毕\n        case 'onLoad':\n          this.height = message.height\n          this._hook('onLoad')\n          this.$emit('load')\n          break\n        // 所有图片加载完毕\n        case 'onReady':\n          this.getRect().then(res => {\n            this.$emit('ready', res)\n          }).catch(() => {\n            this.$emit('ready', {})\n          })\n          break\n        // 总高度发生变化\n        case 'onHeightChange':\n          this.height = message.height\n          break\n        // 图片点击\n        case 'onImgTap':\n          this.$emit('imgtap', message.attrs)\n          if (this.previewImg) {\n            uni.previewImage({\n              current: parseInt(message.attrs.i),\n              urls: this.imgList\n            })\n          }\n          break\n        // 链接点击\n        case 'onLinkTap': {\n          const href = message.attrs.href\n          this.$emit('linktap', message.attrs)\n          if (href) {\n            // 锚点跳转\n            if (href[0] === '#') {\n              if (this.useAnchor) {\n                dom.scrollToElement(this.$refs.web, {\n                  offset: message.offset\n                })\n              }\n            } else if (href.includes('://')) {\n              // 打开外链\n              if (this.copyLink) {\n                plus.runtime.openWeb(href)\n              }\n            } else {\n              uni.navigateTo({\n                url: href,\n                fail () {\n                  uni.switchTab({\n                    url: href\n                  })\n                }\n              })\n            }\n          }\n          break\n        }\n        case 'onPlay':\n          this.$emit('play')\n          break\n        // 获取到锚点的偏移量\n        case 'getOffset':\n          if (typeof message.offset === 'number') {\n            dom.scrollToElement(this.$refs.web, {\n              offset: message.offset + this._navigateTo.offset\n            })\n            this._navigateTo.resolve()\n          } else {\n            this._navigateTo.reject(Error('Label not found'))\n          }\n          break\n        // 点击\n        case 'onClick':\n          this.$emit('tap')\n          this.$emit('click')\n          break\n        // 出错\n        case 'onError':\n          this.$emit('error', {\n            source: message.source,\n            attrs: message.attrs\n          })\n      }\n    }\n    // #endif\n  }\n}\n</script>\n\n<style>\n/* #ifndef APP-PLUS-NVUE */\n/* 根节点样式 */\n._root {\n  padding: 1px 0;\n  overflow-x: auto;\n  overflow-y: hidden;\n  -webkit-overflow-scrolling: touch;\n}\n\n/* 长按复制 */\n._select {\n  user-select: text;\n}\n/* #endif */\n\n/* 提示条 */\n._tooltip_contain {\n  position: absolute;\n  right: 20px;\n  left: 20px;\n  text-align: center;\n}\n\n._tooltip {\n  box-sizing: border-box;\n  display: inline-block;\n  width: auto;\n  max-width: 100%;\n  height: 30px;\n  padding: 0 3px;\n  overflow: scroll;\n  font-size: 14px;\n  line-height: 30px;\n  white-space: nowrap;\n}\n\n._tooltip_item {\n  display: inline-block;\n  width: auto;\n  padding: 0 2vw;\n  line-height: 30px;\n  background-color: black;\n  color: white;\n}\n\n._color_item {\n  display: inline-block;\n  width: 18px;\n  height: 18px;\n  margin: 5px 2vw;\n  border:1px solid #dfe2e5;\n  border-radius: 50%;\n}\n\n/* 图片宽度滚动条 */\n._slider {\n  position: absolute;\n  left: 20px;\n  width: 220px;\n}\n\n._tooltip,\n._slider {\n  background-color: black;\n  border-radius: 3px;\n  opacity: 0.75;\n}\n</style>\n","import Component from 'E:/0/beifen/0/0Files/2025答辩/ts-ts/miniProgram/components/mp-html/components/mp-html/mp-html.vue'\nwx.createComponent(Component)"],"names":["markdown","audio","emoji","highlight","latex","search","style","imgCache","card","editable","uni","nodes","node","Parser"],"mappings":";;;;;;;;;;;;;AAqDA,MAAK,OAAQ,MAAW;AAaxB,MAAM,UAAQ,CAACA,mDAAAA,UAASC,gDAAK,OAACC,gDAAK,OAACC,oDAAS,WAACC,uDAAMC,iDAAAA,QAAOC,gDAAK,OAACC,6DAASC,+CAAAA,MAAKC,mDAAAA,QAAS;AAIxF,MAAK,YAAU;AAAA,EACb,MAAM;AAAA,EACN,OAAO;AACL,WAAO;AAAA,MACL,SAAS;AAAA,MACT,QAAQ;AAAA,MACR,OAAO;AAAA,MACP,OAAO,CAAE;AAAA,IAIX;AAAA,EACD;AAAA,EACD,OAAO;AAAA,IACL,UAAU;AAAA,IACV,aAAa;AAAA,IACb,UAAU;AAAA,IACV,UAAU;AAAA,IACV,gBAAgB;AAAA,MACd,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,SAAS;AAAA,MACP,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,UAAU;AAAA,MACR,MAAM,CAAC,SAAS,MAAM;AAAA,MACtB,SAAS;AAAA,IACV;AAAA,IACD,QAAQ;AAAA,IACR,UAAU;AAAA,MACR,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,UAAU;AAAA,MACR,MAAM,CAAC,SAAS,MAAM;AAAA,MACtB,SAAS;AAAA,IACV;AAAA,IACD,YAAY;AAAA,MACV,MAAM;AAAA,MACN,SAAS;AAAA,IACV;AAAA,IACD,YAAY;AAAA,MACV,MAAM,CAAC,SAAS,MAAM;AAAA,MACtB,SAAS;AAAA,IACV;AAAA,IACD,YAAY;AAAA,MACV,MAAM,CAAC,SAAS,MAAM;AAAA,MACtB,SAAS;AAAA,IACV;AAAA,IACD,aAAa,CAAC,SAAS,MAAM;AAAA,IAC7B,YAAY,CAAC,SAAS,MAAM;AAAA,IAC5B,UAAU;AAAA,MACR,MAAM,CAAC,SAAS,MAAM;AAAA,MACtB,SAAS;AAAA,IACV;AAAA,IACD,aAAa;AAAA,MACX,MAAM,CAAC,SAAS,MAAM;AAAA,MACtB,SAAS;AAAA,IACV;AAAA,IACD,UAAU;AAAA,IACV,WAAW,CAAC,SAAS,MAAM;AAAA,EAC5B;AAAA,EAED,OAAO,CAAC,QAAQ,SAAS,UAAU,WAAW,QAAQ,OAAO;AAAA,EAG7D,YAAY;AAAA,IACV;AAAA,EACD;AAAA,EAED,OAAO;AAAA,IACL,SAAS,KAAK;AACZ,WAAK,WAAW,MAAM,KAAK,UAAU,KAAK,YAAY;AACtD,UAAI,CAAC;AACH,aAAK,SAAS;AAAA,IACjB;AAAA,IACD,QAAS,SAAS;AAChB,WAAK,WAAW,OAAO;AAAA,IACzB;AAAA,EACD;AAAA,EACD,UAAW;AACT,SAAK,UAAU,CAAC;AAChB,aAAS,IAAI,QAAQ,QAAQ,OAAM;AACjC,WAAK,QAAQ,KAAK,IAAI,QAAQ,CAAC,EAAE,IAAI,CAAC;AAAA,IACxC;AAAA,EACD;AAAA,EACD,UAAW;AACT,SAAK,KAAK,WAAW,KAAK,aAAa,CAAC,KAAK,MAAM,QAAQ;AACzD,WAAK,WAAW,KAAK,OAAO;AAAA,IAC9B;AAAA,EACD;AAAA,EACD,gBAAiB;AACf,SAAK,MAAM,YAAY;AAAA,EACxB;AAAA,EACD,SAAS;AAAA,IACP,cAAc;AACZ,UAAI,CAAC,KAAK,SAAS,CAAC,KAAK,UAAU,CAAC,KAAK,OAAO;AAC9C,aAAK,QAAQ;AACb,aAAK,SAAS;AAAA,MAChB;AAAA,IACD;AAAA,IACD,YAAY,GAAG;AACb,WAAK,WAAW,EAAE,cAAc,QAAQ,CAAC;AACzC,WAAK,KAAK,MAAM,WAAW,IAAI;AAAA,IAChC;AAAA,IACD,gBAAgB,GAAG;AACjB,WAAK,aAAa,EAAE,OAAO,KAAK;AAAA,IACjC;AAAA,IACD,cAAc,GAAG;AACf,WAAK,UAAU,EAAE,OAAO,KAAK;AAAA,IAC9B;AAAA,IACD,UAAU,GAAG;AACX,WAAK,SAAS,EAAE,cAAc,QAAQ,CAAC;AACvC,WAAK,KAAK,MAAM,SAAS,IAAI;AAAA,IAC9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOD,GAAI,MAAM,UAAU,WAAW;AAE7B,UAAI,QAAQ,YAAY,WAAW;AACjC,aAAK,MAAM;AAAA,UACT;AAAA,UACA;AAAA,UACA;AAAA,QACF;AAAA,MACF;AAAA,IAED;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAQD,WAAY,IAAI,QAAQ;AACtB,WAAK,KAAK,KAAK,UAAU,EAAE,CAAC,KAAK;AACjC,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtC,YAAI,CAAC,KAAK,WAAW;AACnB,iBAAO,MAAM,oBAAoB,CAAC;AAClC;AAAA,QACF;AACA,iBAAS,UAAU,SAAS,KAAK,SAAS,KAAK;AAiB/C,YAAI,OAAO;AAEX,eAAO;AAEP,cAAM,WAAWC,cAAG,MAAC,oBAAoB,EAEtC,GAAG,KAAK,MAAM,KAAK,IAAI,OAAO,IAAI,EAElC,QAAQ,KAAK,MAAM,KAAK,IAAI,WAAW,aAAa,KAAK,GAAG,IAAI,IAAI,EAAE,KAAK,GAAG,EAAE,mBAAmB;AACtG,YAAI,KAAK,KAAK;AACZ,mBAAS,OAAO,KAAK,IAAI,QAAQ,EAAE,aAAa,EAC7C,OAAO,KAAK,IAAI,QAAQ,EAAE,mBAAmB;AAAA,eAC3C;AAEL,mBAAS,eAAgB,EAAC,aAAe;AAAA,QAC3C;AACA,iBAAS,KAAK,SAAO;AACnB,cAAI,CAAC,IAAI,CAAC,GAAG;AACX,mBAAO,MAAM,iBAAiB,CAAC;AAC/B;AAAA,UACF;AACA,gBAAM,YAAY,IAAI,CAAC,EAAE,YAAY,IAAI,CAAC,EAAE,OAAO,IAAI,CAAC,IAAI,IAAI,CAAC,EAAE,MAAM,KAAK;AAC9E,cAAI,KAAK,KAAK;AAEZ,iBAAK,IAAI,KAAK,KAAK,IAAI,SAAS,IAAI;AAAA,iBAC/B;AAELA,0BAAAA,MAAI,aAAa;AAAA,cACf;AAAA,cACA,UAAU;AAAA,aACX;AAAA,UACH;AACA,kBAAQ;AAAA,SACT;AAAA,OAEF;AAAA,IACF;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,QAAS,OAAO;AACd,UAAI,OAAO;AACX,OAAC,SAAS,UAAWC,QAAO;AAC1B,iBAAS,IAAI,GAAG,IAAIA,OAAM,QAAQ,KAAK;AACrC,gBAAMC,QAAOD,OAAM,CAAC;AACpB,cAAIC,MAAK,SAAS,QAAQ;AACxB,oBAAQA,MAAK,KAAK,QAAQ,UAAU,GAAG;AAAA,qBAC9BA,MAAK,SAAS,MAAM;AAC7B,oBAAQ;AAAA,iBACH;AAEL,kBAAM,UAAUA,MAAK,SAAS,OAAOA,MAAK,SAAS,SAASA,MAAK,SAAS,QAAQA,MAAK,SAAS,QAASA,MAAK,KAAK,CAAC,MAAM,OAAOA,MAAK,KAAK,CAAC,IAAI,OAAOA,MAAK,KAAK,CAAC,IAAI;AACtK,gBAAI,WAAW,QAAQ,KAAK,KAAK,SAAS,CAAC,MAAM,MAAM;AACrD,sBAAQ;AAAA,YACV;AAEA,gBAAIA,MAAK,UAAU;AACjB,wBAAUA,MAAK,QAAQ;AAAA,YACzB;AACA,gBAAI,WAAW,KAAK,KAAK,SAAS,CAAC,MAAM,MAAM;AAC7C,sBAAQ;AAAA,YACV,WAAWA,MAAK,SAAS,QAAQA,MAAK,SAAS,MAAM;AACnD,sBAAQ;AAAA,YACV;AAAA,UACF;AAAA,QACF;AAAA,MACF,GAAG,SAAS,KAAK,KAAK;AACtB,aAAO;AAAA,IACR;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,UAAW;AACT,aAAO,IAAI,QAAQ,CAAC,SAAS,WAAW;AACtCF,sBAAAA,MAAI,oBAAoB,EAErB,GAAG,IAAI,EAEP,OAAO,QAAQ,EAAE,mBAAkB,EAAG,KAAK,SAAO,IAAI,CAAC,IAAI,QAAQ,IAAI,CAAC,CAAC,IAAI,OAAO,MAAM,sBAAsB,CAAC,CAAC;AAAA,OACtH;AAAA,IACF;AAAA;AAAA;AAAA;AAAA,IAKD,aAAc;AACZ,eAAS,KAAK,KAAK,WAAW,IAAI,QAAQ,OAAM;AAC9C,aAAK,QAAQ,CAAC,EAAE,MAAM;AAAA,MACxB;AAAA,IAYD;AAAA;AAAA;AAAA;AAAA;AAAA,IAMD,gBAAiB,MAAM;AACrB,WAAK,eAAe;AACpB,eAAS,KAAK,KAAK,WAAW,IAAI,QAAQ,OAAM;AAC9C,aAAK,QAAQ,CAAC,EAAE,aAAa,IAAI;AAAA,MACnC;AAAA,IAYD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAOD,WAAY,SAAS,QAAQ;AAC3B,UAAI,CAAC,UAAU,CAAC,KAAK,SAAS;AAC5B,aAAK,UAAU,CAAC;AAAA,MAClB;AACA,YAAM,QAAQ,IAAIG,2CAAM,OAAC,IAAI,EAAE,MAAM,OAAO;AAM5C,WAAK,KAAK,MAAM,SAAS,UAAU,KAAK,SAAS,CAAA,GAAI,OAAO,KAAK,IAAI,KAAK;AAG1E,WAAK,UAAU,CAAC;AAChB,WAAK,UAAU,MAAM;AACnB,aAAK,MAAM,QAAQ;AACnB,aAAK,MAAM,MAAM;AAAA,OAClB;AAED,UAAI,KAAK,YAAY,KAAK,QAAQ,cAAc,KAAK,QAAQ,SAAS,GAAG;AAEvE,YAAI,SAAS;AACb,cAAM,WAAW,UAAQ;AACvB,cAAI,CAAC,QAAQ,CAAC,KAAK;AAAQ,mBAAO,CAAC;AAEnC,cAAI,KAAK,WAAW,QAAQ;AAC1B,iBAAK,MAAM,SAAS,IAAI;AAAA,iBACnB;AACL,qBAAS,KAAK;AACd,uBAAW,MAAM;AACf,mBAAK,QAAO,EAAG,KAAK,QAAQ,EAAE,MAAM,QAAQ;AAAA,YAC7C,GAAE,GAAG;AAAA,UACR;AAAA,QACF;AACA,aAAK,QAAO,EAAG,KAAK,QAAQ,EAAE,MAAM,QAAQ;AAAA,aACvC;AAEL,YAAI,CAAC,KAAK,QAAQ,aAAa;AAC7B,eAAK,QAAO,EAAG,KAAK,UAAQ;AAC1B,iBAAK,MAAM,SAAS,IAAI;AAAA,WACzB,EAAE,MAAM,MAAM;AACb,iBAAK,MAAM,SAAS,EAAE;AAAA,WACvB;AAAA,QACH;AAAA,MACF;AAAA,IAED;AAAA;AAAA;AAAA;AAAA,IAKD,MAAO,MAAM;AACX,eAAS,IAAI,QAAQ,QAAQ,OAAM;AACjC,YAAI,KAAK,QAAQ,CAAC,EAAE,IAAI,GAAG;AACzB,eAAK,QAAQ,CAAC,EAAE,IAAI,EAAE;AAAA,QACxB;AAAA,MACF;AAAA,IACD;AAAA,EA6GH;AACF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACthBA,GAAG,gBAAgB,SAAS;"}