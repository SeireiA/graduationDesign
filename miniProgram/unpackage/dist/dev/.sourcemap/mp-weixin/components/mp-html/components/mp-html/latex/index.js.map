{"version":3,"file":"index.js","sources":["components/mp-html/components/mp-html/latex/index.js"],"sourcesContent":["/**\n * @fileoverview latex 插件\n * katex.min.js来源 https://github.com/rojer95/katex-mini\n */\nimport parse from './katex.min'\n\nfunction Latex () {\n\n}\n\nLatex.prototype.onParse = function (node, vm) {\n  // $...$包裹的内容为latex公式\n  if (!vm.options.editable && node.type === 'text' && /\\$(.+?)\\$/.test(node.text)) {\n    delete node.type\n    node.name = 'span'\n    node.attrs = {}\n    node.children = node.text.split('$').map((str, index) => {\n      // 偶数\n      if ((index + 1) % 2 === 0) {\n        return {\n          name: 'span',\n          attrs: {},\n          f: 'display:inline-block',\n          children: parse.default(str)\n        }\n      }\n      return {\n        type: 'text',\n        text: str\n      }\n    }).filter(node => node.name || node.text)\n    delete node.text\n  }\n}\n\nexport default Latex\n"],"names":["parse","node"],"mappings":";;AAMA,SAAS,QAAS;AAElB;AAEA,MAAM,UAAU,UAAU,SAAU,MAAM,IAAI;AAE5C,MAAI,CAAC,GAAG,QAAQ,YAAY,KAAK,SAAS,UAAU,YAAY,KAAK,KAAK,IAAI,GAAG;AAC/E,WAAO,KAAK;AACZ,SAAK,OAAO;AACZ,SAAK,QAAQ,CAAE;AACf,SAAK,WAAW,KAAK,KAAK,MAAM,GAAG,EAAE,IAAI,CAAC,KAAK,UAAU;AAEvD,WAAK,QAAQ,KAAK,MAAM,GAAG;AACzB,eAAO;AAAA,UACL,MAAM;AAAA,UACN,OAAO,CAAE;AAAA,UACT,GAAG;AAAA,UACH,UAAUA,oDAAAA,MAAM,QAAQ,GAAG;AAAA,QAC5B;AAAA,MACF;AACD,aAAO;AAAA,QACL,MAAM;AAAA,QACN,MAAM;AAAA,MACP;AAAA,IACP,CAAK,EAAE,OAAO,CAAAC,UAAQA,MAAK,QAAQA,MAAK,IAAI;AACxC,WAAO,KAAK;AAAA,EACb;AACH;;"}