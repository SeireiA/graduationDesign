{"version":3,"file":"index.js","sources":["components/mp-html/components/mp-html/audio/index.js"],"sourcesContent":["/**\n * @fileoverview audio 插件\n */\nimport context from './context'\nlet index = 0\n\nfunction Audio (vm) {\n  this.vm = vm\n}\n\nAudio.prototype.onUpdate = function () {\n  this.audios = []\n}\n\nAudio.prototype.onParse = function (node) {\n  if (node.name === 'audio') {\n    if (!node.attrs.id) {\n      node.attrs.id = 'a' + index++\n    }\n    this.audios.push(node.attrs.id)\n  }\n}\n\nAudio.prototype.onLoad = function () {\n  setTimeout(() => {\n    for (let i = 0; i < this.audios.length; i++) {\n      const ctx = context.get(this.audios[i])\n      ctx.id = this.audios[i]\n      this.vm._videos.push(ctx)\n    }\n  }, 500)\n}\n\nexport default Audio\n"],"names":["context"],"mappings":";;AAIA,IAAI,QAAQ;AAEZ,SAAS,MAAO,IAAI;AAClB,OAAK,KAAK;AACZ;AAEA,MAAM,UAAU,WAAW,WAAY;AACrC,OAAK,SAAS,CAAE;AAClB;AAEA,MAAM,UAAU,UAAU,SAAU,MAAM;AACxC,MAAI,KAAK,SAAS,SAAS;AACzB,QAAI,CAAC,KAAK,MAAM,IAAI;AAClB,WAAK,MAAM,KAAK,MAAM;AAAA,IACvB;AACD,SAAK,OAAO,KAAK,KAAK,MAAM,EAAE;AAAA,EAC/B;AACH;AAEA,MAAM,UAAU,SAAS,WAAY;AACnC,aAAW,MAAM;AACf,aAAS,IAAI,GAAG,IAAI,KAAK,OAAO,QAAQ,KAAK;AAC3C,YAAM,MAAMA,kDAAAA,QAAQ,IAAI,KAAK,OAAO,CAAC,CAAC;AACtC,UAAI,KAAK,KAAK,OAAO,CAAC;AACtB,WAAK,GAAG,QAAQ,KAAK,GAAG;AAAA,IACzB;AAAA,EACF,GAAE,GAAG;AACR;;"}