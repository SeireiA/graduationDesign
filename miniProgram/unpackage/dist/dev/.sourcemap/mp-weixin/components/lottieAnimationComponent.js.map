{"version":3,"file":"lottieAnimationComponent.js","sources":["components/lottieAnimationComponent.vue","D:/HBuilderX/plugins/uniapp-cli-vite/uniComponent:/RTovMC9iZWlmZW4vMC8wRmlsZXMvMjAyNeetlOi-qS90cy10cy9taW5pUHJvZ3JhbS9jb21wb25lbnRzL2xvdHRpZUFuaW1hdGlvbkNvbXBvbmVudC52dWU"],"sourcesContent":["<template>\n  <view class=\"zui-animator\">\n    <!-- #ifdef MP-WEIXIN -->\n    <canvas type=\"2d\" :class=\"`wrapper ${lottieId}`\" :style=\"style\"></canvas>\n    <!-- #endif -->\n    <!-- #ifndef MP-WEIXIN -->\n    <view ref=\"lottieContainer\" class=\"wrapper\" :style=\"style\"></view>\n    <!-- #endif -->\n  </view>\n</template>\n\n<script>\n// #ifdef MP-WEIXIN\nimport Lottie from \"lottie-miniprogram\";\n// #endif\n// #ifndef MP-WEIXIN\nimport Lottie from \"lottie-web\";\n// #endif\n\n/**\n *\n */\nexport default {\n  name: \"lottie-animation\",\n\n  props: {\n    width: {\n      type: [Number, String],\n      default: 48,\n    },\n\n    height: {\n      type: [Number, String],\n      default: 48,\n    },\n\n    frames: {\n      type: Object,\n      required: true,\n      default: undefined,\n    },\n\n    loop: {\n      type: Boolean,\n      default: true,\n    },\n\n    autoplay: {\n      type: Boolean,\n      default: true,\n    },\n\n    speed: {\n      type: Number,\n      default: 1,\n    },\n  },\n\n  data() {\n    return {\n      lottieId: `lottie-${Math.floor(Math.random() * 99999999)}`,\n    };\n  },\n\n  computed: {\n    style() {\n      const style = {\n        \"--zui-animator-width\":\n            typeof this.width === \"number\" ? `${this.width}rpx` : this.width,\n        \"--zui-animator-height\":\n            typeof this.height === \"number\" ? `${this.height}rpx` : this.height,\n      };\n\n      return Object.keys(style)\n          .map((key) => `${key}:${style[key]}`)\n          .join(\"; \");\n    },\n  },\n\n  watch: {\n    frames() {\n      this.initialAni();\n    },\n\n    speed() {\n      this.setSpeed(this.speed);\n    },\n  },\n\n  mounted() {\n    this.initialAni();\n  },\n\n  unmounted() {\n    if (!this.lottie) return;\n\n    this.lottie.stop();\n    this.lottie.destroy();\n  },\n\n  methods: {\n    async initialAni() {\n      if (this.lottie) {\n        this.lottie.destroy();\n      }\n\n      if (!this.frames) return;\n\n      // #ifdef MP-WEIXIN\n      this.createSelectorQuery()\n          .select(\".\" + this.lottieId)\n          .node((res) => {\n            const canvas = res.node;\n            canvas.width = parseInt(this.width)\n            canvas.height = parseInt(this.height)\n\n            Lottie.setup(canvas);\n\n            this.launchLottie({\n              renderer: \"canvas\",\n              rendererSettings: {\n                context: canvas.getContext('2d'),\n              }\n            })\n          })\n          .exec();\n      // #endif\n      // #ifndef MP-WEIXIN\n      this.launchLottie({\n        renderer: \"svg\",\n        container: this.$refs.lottieContainer.$el\n      })\n      // #endif\n    },\n\n    launchLottie(opts) {\n      this.lottie = Lottie.loadAnimation({\n        ...opts,\n        loop: this.loop,\n        autoplay: this.autoplay,\n        animationData: this.frames,\n      });\n      this.lottie.setSpeed(this.speed);\n    },\n\n    play() {\n      if (!this.lottie) return;\n\n      this.lottie.play();\n    },\n\n    stop() {\n      if (!this.lottie) return;\n\n      this.lottie.stop();\n    },\n\n    pause() {\n      if (!this.lottie) return;\n\n      this.lottie.pause();\n    },\n\n    setLocationHref(locationHref) {\n      if (!this.lottie) return;\n\n      this.lottie.setLocationHref(locationHref);\n    },\n\n    setSpeed(speed) {\n      if (!this.lottie) return;\n\n      this.lottie.setSpeed(speed);\n    },\n\n    gotoAndStop(value, isFrame) {\n      if (!this.lottie) return;\n\n      this.lottie.goToAndStop(value, isFrame);\n    },\n\n    gotoAndPlay(value, isFrame) {\n      if (!this.lottie) return;\n\n      this.lottie.goToAndPlay(value, isFrame);\n    },\n\n    setDirection(direction) {\n      if (!this.lottie) return;\n\n      this.lottie.setDirection(direction);\n    },\n\n    playSegments(segments, forceFlag) {\n      if (!this.lottie) return;\n\n      this.lottie.playSegments(segments, forceFlag);\n    },\n\n    setSubframe(flag) {\n      if (!this.lottie) return;\n\n      this.lottie.setSubframe(flag);\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"scss\">\n.zui-animator {\n  display: inline-block;\n\n  > .wrapper {\n    width: var(--zui-animator-width);\n    height: var(--zui-animator-height);\n  }\n}\n</style>\n","import Component from 'E:/0/beifen/0/0Files/2025答辩/ts-ts/miniProgram/components/lottieAnimationComponent.vue'\nwx.createComponent(Component)"],"names":["Lottie"],"mappings":"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"}